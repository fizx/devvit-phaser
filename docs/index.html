<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>devvit-phaser - v0.2.0</title><meta name="description" content="Documentation for devvit-phaser"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">devvit-phaser - v0.2.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>devvit-phaser - v0.2.0</h2></div><div class="tsd-panel tsd-typography"><a id="md:devvit-phaser-ðŸŽ®" class="tsd-anchor"></a><h1><a href="#md:devvit-phaser-ðŸŽ®">Devvit-Phaser ðŸŽ®</a></h1><p><a href="https://www.npmjs.com/package/devvit-phaser"><img src="https://img.shields.io/npm/v/devvit-phaser.svg" alt="npm version"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a>
<a href="https://github.com/fizx/devvit-phaser/actions/workflows/tests.yml"><img src="https://github.com/fizx/devvit-phaser/actions/workflows/tests.yml/badge.svg" alt="Tests"></a></p>
<p>A library to integrate Phaser.js with Reddit&#39;s Devvit platform for building interactive multiplayer games. This library provides a simple, yet powerful framework for creating multiplayer games with synchronized state between players.</p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">devvit-phaser</span>
</code><button>Copy</button></pre>
<a id="md:architecture" class="tsd-anchor"></a><h2><a href="#md:architecture">Architecture</a></h2><p>Devvit-Phaser is built around a few core concepts:</p>
<ol>
<li><p><strong>BasicGameServer</strong> - The foundation for all multiplayer Devvit games, handling communication between players, timers, and more.</p>
</li>
<li><p><strong>PhaserGameServer</strong> - Extends BasicGameServer with Phaser-specific functionality for game state synchronization.</p>
</li>
<li><p><strong>SyncedDataManager</strong> - Client-side component that extends Phaser&#39;s DataManager, providing synchronized state between all players.</p>
</li>
<li><p><strong>DataManagerServer</strong> - Server-side component that manages the persistent state in Redis and broadcasts changes to all connected players.</p>
</li>
</ol>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><a id="md:creating-a-game-server" class="tsd-anchor"></a><h3><a href="#md:creating-a-game-server">Creating a Game Server</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">PhaserGameServer</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;devvit-phaser&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Devvit</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@devvit/public-api&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Create a game server with your game name</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">gameServer</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">PhaserGameServer</span><span class="hl-1">(</span><span class="hl-2">&#39;Asteroid Blaster&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Set up custom handlers if needed</span><br/><span class="hl-4">gameServer</span><span class="hl-1">.</span><span class="hl-0">onDataManagerSubscribe</span><span class="hl-1"> = </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-4">subscriptions</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Player subscribed to data managers&#39;</span><span class="hl-1">, </span><span class="hl-4">subscriptions</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">// Perform authorization checks, etc.</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-4">gameServer</span><span class="hl-1">.</span><span class="hl-0">onDataManagerMutate</span><span class="hl-1"> = </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-4">mutation</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Player mutated data manager&#39;</span><span class="hl-1">, </span><span class="hl-4">mutation</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">// Validate mutations if needed</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-5">// Override methods to handle game-specific logic</span><br/><span class="hl-4">gameServer</span><span class="hl-1">.</span><span class="hl-0">onPlayerJoined</span><span class="hl-1"> = </span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">super</span><span class="hl-1">.</span><span class="hl-0">onPlayerJoined</span><span class="hl-1">(); </span><span class="hl-5">// Call the parent method to handle basic setup</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Create a player-specific data manager</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">playerData</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">DataManagerServer</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">, { </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-2">`player_</span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-8">.</span><span class="hl-4">userId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Initialize with default values</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">playerData</span><span class="hl-1">.</span><span class="hl-0">setAll</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">score:</span><span class="hl-1"> </span><span class="hl-9">0</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">health:</span><span class="hl-1"> </span><span class="hl-9">100</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">position:</span><span class="hl-1"> { </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-9">0</span><span class="hl-1">, </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-9">0</span><span class="hl-1"> }</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Subscribe the player to their data</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-0">subscribePlayerToDataManager</span><span class="hl-1">(</span><span class="hl-4">playerData</span><span class="hl-1">);</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-5">// Build the game server (sets up Devvit integration)</span><br/><span class="hl-4">gameServer</span><span class="hl-1">.</span><span class="hl-0">build</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<a id="md:using-synchronized-data-in-phaser" class="tsd-anchor"></a><h3><a href="#md:using-synchronized-data-in-phaser">Using Synchronized Data in Phaser</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">SyncedDataManager</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;devvit-phaser&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">Phaser</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;phaser&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-6">class</span><span class="hl-1"> </span><span class="hl-10">MainScene</span><span class="hl-1"> </span><span class="hl-6">extends</span><span class="hl-1"> </span><span class="hl-10">Phaser</span><span class="hl-1">.</span><span class="hl-10">Scene</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">gameState</span><span class="hl-1">: </span><span class="hl-10">SyncedDataManager</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">playerState</span><span class="hl-1">: </span><span class="hl-10">SyncedDataManager</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">ship</span><span class="hl-1">: </span><span class="hl-10">Phaser</span><span class="hl-1">.</span><span class="hl-10">GameObjects</span><span class="hl-1">.</span><span class="hl-10">Sprite</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">create</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">// Create a global game state all players can see</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">gameState</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">SyncedDataManager</span><span class="hl-1">(</span><span class="hl-2">&#39;gameState&#39;</span><span class="hl-1">, </span><span class="hl-6">this</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Create player-specific state (using the player&#39;s ID)</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">screenId</span><span class="hl-1"> = </span><span class="hl-4">window</span><span class="hl-1">.</span><span class="hl-4">me</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;screenId&#39;</span><span class="hl-1">) </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-10">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">SyncedDataManager</span><span class="hl-1">(</span><span class="hl-2">`player_</span><span class="hl-6">${</span><span class="hl-4">screenId</span><span class="hl-6">}</span><span class="hl-2">`</span><span class="hl-1">, </span><span class="hl-6">this</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Wait for initial data</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1">.</span><span class="hl-4">events</span><span class="hl-1">.</span><span class="hl-0">once</span><span class="hl-1">(</span><span class="hl-2">&#39;ready&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">// Create the player&#39;s ship</span><br/><span class="hl-1">      </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">ship</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">add</span><span class="hl-1">.</span><span class="hl-0">sprite</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;position&#39;</span><span class="hl-1">).</span><span class="hl-4">x</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;position&#39;</span><span class="hl-1">).</span><span class="hl-4">y</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-2">&#39;ship&#39;</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">      </span><br/><span class="hl-1">      </span><span class="hl-5">// Update UI</span><br/><span class="hl-1">      </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-0">updateScoreDisplay</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;score&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Listen for changes in player data</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1">.</span><span class="hl-4">events</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;changedata-position&#39;</span><span class="hl-1">, (</span><span class="hl-4">_</span><span class="hl-1">, </span><span class="hl-4">position</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">// Update ship position when it changes on the server</span><br/><span class="hl-1">      </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">ship</span><span class="hl-1">.</span><span class="hl-0">setPosition</span><span class="hl-1">(</span><span class="hl-4">position</span><span class="hl-1">.</span><span class="hl-4">x</span><span class="hl-1">, </span><span class="hl-4">position</span><span class="hl-1">.</span><span class="hl-4">y</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Listen for changes in game state</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">gameState</span><span class="hl-1">.</span><span class="hl-4">events</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;changedata-asteroids&#39;</span><span class="hl-1">, (</span><span class="hl-4">_</span><span class="hl-1">, </span><span class="hl-4">asteroids</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">// Update asteroid positions when they change</span><br/><span class="hl-1">      </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-0">updateAsteroids</span><span class="hl-1">(</span><span class="hl-4">asteroids</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Handle ship movement</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">input</span><span class="hl-1">.</span><span class="hl-4">keyboard</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;keydown-W&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">position</span><span class="hl-1"> = </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;position&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">position</span><span class="hl-1">.</span><span class="hl-4">y</span><span class="hl-1"> -= </span><span class="hl-9">10</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-5">// This will sync to other players automatically</span><br/><span class="hl-1">      </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;position&#39;</span><span class="hl-1">, </span><span class="hl-4">position</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">increaseScore</span><span class="hl-1">(</span><span class="hl-4">points</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">// Increment the score (synchronized to server and other players)</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">playerState</span><span class="hl-1">.</span><span class="hl-0">inc</span><span class="hl-1">(</span><span class="hl-2">&#39;score&#39;</span><span class="hl-1">, </span><span class="hl-4">points</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">updateScoreDisplay</span><span class="hl-1">(</span><span class="hl-4">score</span><span class="hl-1">: </span><span class="hl-10">number</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">// Update UI based on score changes</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">updateAsteroids</span><span class="hl-1">(</span><span class="hl-4">asteroids</span><span class="hl-1">: </span><span class="hl-10">any</span><span class="hl-1">[]) {</span><br/><span class="hl-1">    </span><span class="hl-5">// Update asteroid display based on server data</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:advanced-features" class="tsd-anchor"></a><h2><a href="#md:advanced-features">Advanced Features</a></h2><a id="md:timers-and-scheduled-events" class="tsd-anchor"></a><h3><a href="#md:timers-and-scheduled-events">Timers and Scheduled Events</a></h3><p>The PhaserGameServer includes reliable timer functions that persist even through server restarts:</p>
<pre><code class="language-typescript"><span class="hl-5">// One-time event after 5 seconds</span><br/><span class="hl-4">gameServer</span><span class="hl-1">.</span><span class="hl-0">setTimeout</span><span class="hl-1">(</span><span class="hl-2">&#39;respawn_player&#39;</span><span class="hl-1">, </span><span class="hl-9">5000</span><span class="hl-1">, { </span><span class="hl-4">playerId:</span><span class="hl-1"> </span><span class="hl-2">&#39;12345&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-5">// Recurring event every 1 second</span><br/><span class="hl-4">gameServer</span><span class="hl-1">.</span><span class="hl-0">setInterval</span><span class="hl-1">(</span><span class="hl-2">&#39;spawn_asteroid&#39;</span><span class="hl-1">, </span><span class="hl-9">1000</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Handle timer events</span><br/><span class="hl-4">gameServer</span><span class="hl-1">.</span><span class="hl-0">onTimerEvent</span><span class="hl-1"> = </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-4">event</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">event</span><span class="hl-1">.</span><span class="hl-4">name</span><span class="hl-1"> === </span><span class="hl-2">&#39;spawn_asteroid&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asteroidData</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">DataManagerServer</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">, { </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;asteroids&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">asteroids</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">asteroidData</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;list&#39;</span><span class="hl-1">) || [];</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">asteroids</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-0">v4</span><span class="hl-1">(),</span><br/><span class="hl-1">      </span><span class="hl-4">x:</span><span class="hl-1"> </span><span class="hl-4">Math</span><span class="hl-1">.</span><span class="hl-0">random</span><span class="hl-1">() * </span><span class="hl-9">800</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">y:</span><span class="hl-1"> </span><span class="hl-9">0</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">size:</span><span class="hl-1"> </span><span class="hl-4">Math</span><span class="hl-1">.</span><span class="hl-0">floor</span><span class="hl-1">(</span><span class="hl-4">Math</span><span class="hl-1">.</span><span class="hl-0">random</span><span class="hl-1">() * </span><span class="hl-9">3</span><span class="hl-1">) + </span><span class="hl-9">1</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">asteroidData</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;list&#39;</span><span class="hl-1">, </span><span class="hl-4">asteroids</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<a id="md:player-management" class="tsd-anchor"></a><h3><a href="#md:player-management">Player Management</a></h3><p>Track players joining and leaving:</p>
<pre><code class="language-typescript"><span class="hl-4">gameServer</span><span class="hl-1">.</span><span class="hl-0">onPlayerJoined</span><span class="hl-1"> = </span><span class="hl-6">async</span><span class="hl-1"> () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">super</span><span class="hl-1">.</span><span class="hl-0">onPlayerJoined</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Get the list of active players</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">playersData</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-0">DataManagerServer</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">, { </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-2">&#39;players&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">players</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">playersData</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;active&#39;</span><span class="hl-1">) || [];</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-5">// Add the new player</span><br/><span class="hl-1">  </span><span class="hl-4">players</span><span class="hl-1">.</span><span class="hl-0">push</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">userId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">userInfo</span><span class="hl-1">.</span><span class="hl-4">username</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">joinedAt:</span><span class="hl-1"> </span><span class="hl-4">Date</span><span class="hl-1">.</span><span class="hl-0">now</span><span class="hl-1">()</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">playersData</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;active&#39;</span><span class="hl-1">, </span><span class="hl-4">players</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-0">broadcast</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">postId</span><span class="hl-1">, { </span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;PLAYER_JOINED&#39;</span><span class="hl-1">, </span><br/><span class="hl-1">    </span><span class="hl-4">player:</span><span class="hl-1"> </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-4">userInfo</span><span class="hl-1"> </span><br/><span class="hl-1">  });</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p>MIT</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:devvit-phaser-ðŸŽ®"><span>Devvit-<wbr/>Phaser ðŸŽ®</span></a><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:architecture"><span>Architecture</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:creating-a-game-server"><span>Creating a <wbr/>Game <wbr/>Server</span></a></li><li><a href="#md:using-synchronized-data-in-phaser"><span>Using <wbr/>Synchronized <wbr/>Data in <wbr/>Phaser</span></a></li></ul></li><li><a href="#md:advanced-features"><span>Advanced <wbr/>Features</span></a></li><li><ul><li><a href="#md:timers-and-scheduled-events"><span>Timers and <wbr/>Scheduled <wbr/>Events</span></a></li><li><a href="#md:player-management"><span>Player <wbr/>Management</span></a></li></ul></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>devvit-phaser - v0.2.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>